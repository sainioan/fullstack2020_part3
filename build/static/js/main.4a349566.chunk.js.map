{"version":3,"sources":["components/Persons.js","components/Filter.js","components/Notification.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Persons","persons","newFilter","remove","filter","person","name","toLowerCase","includes","map","key","number","onClick","id","Filter","value","onChange","Notification","message","type","className","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewFilter","setNewNumber","setMessage","styleType","setStyleType","useEffect","personsService","updatePerson","personToBeUpdated","find","thisPerson","mess","setTimeout","catch","error","messageToBeShown","text","event","target","preventDefault","personObject","some","contact","window","confirm","concat","errorM","JSON","stringify","console","log","updatedPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4a349566.chunk.js","sourcesContent":["import React from 'react';\n\n\n\nconst Persons = ({persons, newFilter, remove}) => {\n  const personsToShow = () =>  \n  persons.filter((person)=> \n  person.name.toLowerCase().includes(newFilter.toLowerCase())).map((person) => (\n    <div  key ={person.name}> \n    {person.name} {person.number} <button onClick={() => remove(person.id)}>delete</button>\n    </div>\n  ))\n  \nreturn(\n  <div>\n    <h3>Numbers</h3>\n    {personsToShow()}\n  </div>\n\n)\n\n}\nexport default Persons","import React from \"react\";\n\nconst Filter = ({ value, onChange }) => {\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\n\t\t\t<input value={value} onChange={onChange} />\n\t\t</div>\n\t);\n};\n\n\nexport default Filter;","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  } else{\n    if (type ==='error'){\n        return (\n            <div className='error'>\n              {message}\n            </div>\n          )\n      } else {\n          return (\n          \n                <div className='notification'>\n                  {message}\n                </div>\n              )\n          \n      }\n  }\n \n}\n\nexport default Notification","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n\t\t<div>\n\t\t\t<h3>add a new </h3>\n        <form onSubmit={props.addPerson}>\n            <div>\n                name: <input value={props.newName}\n                    onChange={props.handleNameChange}\n                />\n            </div>\n            <div>\n                number: <input value={props.newNumber}\n                    onChange={props.handleNumberChange}\n                />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n</div>\n    )\n}\n\nexport default PersonForm","import axios from 'axios'\n\n// const baseUrl = 'http://localhost:3001/persons'\n// const baseUrl = 'http://localhost:3001/api/persons'\n\n\n\nconst baseUrl = '/api/persons' \n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`) \n};\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport personsService from './services/persons';\nimport './App.css';\nimport './index.css';\nimport axios from 'axios'\n\n\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newFilter, setNewFilter] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [message, setMessage] = useState(null)\n\tconst [styleType, setStyleType ] = useState(null);\n  \n\tuseEffect(() => {\n\tpersonsService.\n\tgetAll().then((response) => {setPersons(response);\n\t});\n}, []);\t\n\nconst addPerson = (event) => {\n    event.preventDefault()\n   \n\n    const personObject = {\n      name: newName,\n      number: newNumber\n\t}\n\t\nif (persons.some(contact => contact.name.toLowerCase() === personObject.name.toLowerCase())) {\n\tif (window.confirm(`${personObject.name} is already added to the phonebook. Do you want to replace the old number with a new one?`)) {\n\t  updatePerson(personObject.name, personObject.number)\n\t  setNewName('')\n\t  setNewNumber('')\n\t} else {\n\t  const messageToBeShown = {\n\t\ttype: `notification`,\n\t\ttext: `Number was not changed`\n\t  }\n\t  setMessage(messageToBeShown)\n\t  setTimeout(() => { setMessage(null) }, 5000)\n\t}\n\n  } else {\n\t  personsService\n\t//  .create({ name: newName, number: newNumber })\n\t  .create(personObject)\n\t  .then(response => {\n\t\tsetPersons(persons.concat(response))\n/* \t\tconst messageToBeShown = {\n\t\t  type: `notification`,\n\t\t  text: `${personObject.name} added`\n\t\t} */\n\t\n\t\tsetMessage(`${personObject.name} added`)\n\t\tsetStyleType('notification');\n\t\tsetTimeout(() => { setMessage(null) }, 5000)\n\t\tsetNewName('')\n\t\tsetNewNumber('')\n\n\t  }).catch(error => {\n\t\tconst errorM = JSON.stringify(error.response.data)\n\t\tconsole.log(error.response.data);\n\t\tsetMessage(`${errorM}`);\n\t\t\n\t\t/* const messageToBeShown = {\n            type: `error`,\n\t\t\ttext: `${error.response.data}`\n\t\t\t\n\t\t}\n\t \tsetMessage(messageToBeShown);\n\t\tsetMessage(JSON.stringify(error.response.data)); */\n\t    setStyleType('error');\n\t\tsetTimeout(() => { \n\t\t\tsetMessage(null) \n\t\t\tsetStyleType(null)\n\t\t}, 5000)\n\t\t\n\t  })\n  }\n}\n\nconst updatePerson = (name, newNumber) => {\n  const personToBeUpdated = persons.find(person => person.name.toLowerCase() === name.toLowerCase())\n\n  personToBeUpdated.number = newNumber\n\n  personsService.update(personToBeUpdated.id, personToBeUpdated)\n\t.then(thisPerson => {\n\t  setPersons(persons.map(person => person.id !== personToBeUpdated.id ? person : thisPerson))\n\t})\n\t.then(mess => {\n\n\t  setMessage(`${personToBeUpdated.name}'s number updated`)\n\t  setStyleType('notification')\n\t  setTimeout(() => {\n\t\t   setMessage(null)\n\t\t\tsetStyleType(null)\n\t\t}, 5000)\n\t})\n\t.catch(error => {\n\t\tconst messageToBeShown = {\n\t\t\ttype: `error`,\n\t\t\ttext: `${personToBeUpdated.name} has already been deleted`\n\t\t  }\n\t\tsetMessage(messageToBeShown)\n\t\tsetMessage(\t`${personToBeUpdated.name} has already been deleted`)\n\t\tsetStyleType('error');\n        setTimeout(() => {\n\t\t  setMessage(null)\n\t\t  setStyleType(null);\n        }, 5000)  \n\n\t})\n\n}\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value)\n\t};\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t};\n\n\tconst handleFilterChange = (event) => {\n\t\tsetNewFilter(event.target.value)\n\t};\n\t\n\tconst handleRemove = (id) => {\n\t\t\n\t\tconst personToBeUpdated = persons.find((person) => person.id === id);\n\t\tconst alert = window.confirm(`Are you sure you want to delete the entry ${personToBeUpdated.name}?`);\n\t\tpersonsService.remove(id)\n\t\t.catch(error => {\n\t\t\tconst messageToBeShown = {\n\t\t\t\ttype: 'error',\n\t\t\t\ttext: `${personToBeUpdated.name} has already been deleted`\n\t\t\t  }\n\t\t\tsetStyleType('error')\n\t\t\tsetMessage(\t`${personToBeUpdated.name} has already been deleted`)\n\t\t\tsetStyleType('error')\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetMessage(null)\n\t\t\t\tsetStyleType(null)\n\t\t\t  }, 5000)\n\t\t})\n\n\t.then(response => {\n\t  const updatedPersons = persons.filter(person => person.id !== id)\n\t  setPersons(updatedPersons)\n\t})\n}\n\n\n\treturn (\n\t\t<div>\n\t\t\t<Filter value={newFilter} onChange={handleFilterChange} />\n\t\t\t<p></p>\n\t\t\t<Notification message={message}  type={styleType} />\n\t\t\t<PersonForm \n\t\t\tnewName={newName}\n\t\t\thandleNameChange={handleNameChange} \n\t\t\tnewNumber={newNumber} \n\t\t\thandleNumberChange={handleNumberChange} \n\t\t\taddPerson={addPerson} />\n\t\t\t<Persons persons={persons} newFilter={newFilter} remove = {handleRemove}/>\n\t\t</div>\n\t)\n}\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}